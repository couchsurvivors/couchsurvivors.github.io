import{_}from"./BoSjK2C8.js";import{d as V,r as f,bm as g,v as c,F as v,B as o,A as e,T as u,C as d,bc as C,y as F,H,G as w,Q as x,b7 as y}from"./Bbj95wRu.js";import{u as L}from"./NCVg4mz9.js";import{V as R}from"./G7km1XJW.js";import{V as b}from"./NbNjiBPf.js";import{V as $,a as p}from"./CqGrWfn7.js";import{V as k}from"./CJe0fp64.js";import{V as B}from"./D5UlzUNu.js";import{V as A}from"./C1-V8xnB.js";import{V as N}from"./CYB7Cdvz.js";import"./CuUJjFYc.js";import"./BEVgr3Ss.js";import"./Bm2-PHtr.js";const T=V({__name:"form",props:{route:{type:Object,default:()=>({name:"",originalFile:null})}},emits:["close-dialog"],setup(m){const l=m,a=f({...l.route}),s=g(),r=async()=>{try{if(a.value.originalFile){const i=await L("routes",C(),a.value.originalFile);if(l.route.id)await s.update(newRoute);else{const t={name:a.value.name,originalFile:i.path};await s.create(t)}}}catch(i){console.error("An error occurred while saving the route:",i)}};return(i,t)=>(c(),v(k,null,{default:o(()=>[e(R,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value.name=n),label:"Name"},null,8,["modelValue"]),e(b,{modelValue:a.value.originalFile,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value.originalFile=n),label:"File"},null,8,["modelValue"]),e($,{justify:"end"},{default:o(()=>[e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:t[2]||(t[2]=n=>i.$emit("close-dialog"))},{default:o(()=>[d("Cancel")]),_:1})]),_:1}),e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:r},{default:o(()=>[d("Save")]),_:1})]),_:1})]),_:1})]),_:1}))}}),U={class:"ma-4"},K=V({__name:"index",setup(m){const l=f(!1);function a(){l.value=!1}return(s,r)=>{const i=_,t=T;return c(),v(B,null,{default:o(()=>[e(i,{"entity-type":"routes"}),e(A,{"model-value":"",position:"bottom",class:"text-end",size:"88"},{default:o(()=>[F("div",U,[e(u,{icon:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",size:"large",color:"primary",elevation:"8",onClick:r[0]||(r[0]=n=>l.value=!0)})])]),_:1}),e(N,{modelValue:x(l),"onUpdate:modelValue":r[2]||(r[2]=n=>y(l)?l.value=n:null),"max-width":"600"},{default:o(()=>[e(H,{"prepend-icon":"M11,12H3.5L6,9.5L3.5,7H11V3L12,2L13,3V7H18L20.5,9.5L18,12H13V20A2,2 0 0,1 15,22H9A2,2 0 0,1 11,20V12Z",title:"Create new route"},{default:o(()=>[e(w,null,{default:o(()=>[e(t,{onCloseDialog:r[1]||(r[1]=n=>a())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{K as default};
