import{_}from"./WDYk4PMM.js";import{d as V,r as f,by as g,v as c,F as v,B as o,A as e,S as u,C as d,bf as C,y as F,H,G as w,R as y,a3 as x}from"./DqY_47VH.js";import{u as R}from"./Dl3_uHZR.js";import{V as L}from"./BQ9yqtZv.js";import{V as b}from"./CtAhJ88r.js";import{V as $,a as p}from"./B-0Onb5m.js";import{V as k}from"./C_CB1DLS.js";import{V as B}from"./9hyOoMeu.js";import{V as A}from"./DlzXCPfN.js";import{V as N}from"./CmMOJjyZ.js";import"./BzZ5GiOe.js";import"./Bw5AsuFf.js";import"./CwC7MBXf.js";import"./CvkfFKdQ.js";import"./DhEjqOiD.js";const S=V({__name:"form",props:{route:{type:Object,default:()=>({name:"",originalFile:null})}},emits:["close-dialog"],setup(m){const l=m,a=f({...l.route}),s=g(),r=async()=>{try{if(a.value.originalFile){const n=await R("routes",C(),a.value.originalFile);if(l.route.id)await s.update(newRoute);else{const t={name:a.value.name,originalFile:n.path};await s.create(t)}}}catch(n){console.error("An error occurred while saving the route:",n)}};return(n,t)=>(c(),v(k,null,{default:o(()=>[e(L,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=i=>a.value.name=i),label:"Name"},null,8,["modelValue"]),e(b,{modelValue:a.value.originalFile,"onUpdate:modelValue":t[1]||(t[1]=i=>a.value.originalFile=i),label:"File"},null,8,["modelValue"]),e($,{justify:"end"},{default:o(()=>[e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:t[2]||(t[2]=i=>n.$emit("close-dialog"))},{default:o(()=>[d("Cancel")]),_:1})]),_:1}),e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:r},{default:o(()=>[d("Save")]),_:1})]),_:1})]),_:1})]),_:1}))}}),U={class:"ma-4"},W=V({__name:"index",setup(m){const l=f(!1);function a(){l.value=!1}return(s,r)=>{const n=_,t=S;return c(),v(N,null,{default:o(()=>[e(n,{"entity-type":"routes"}),e(B,{"model-value":"",position:"bottom",class:"text-end",size:"88"},{default:o(()=>[F("div",U,[e(u,{icon:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",size:"large",color:"primary",elevation:"8",onClick:r[0]||(r[0]=i=>l.value=!0)})])]),_:1}),e(A,{modelValue:y(l),"onUpdate:modelValue":r[2]||(r[2]=i=>x(l)?l.value=i:null),"max-width":"600"},{default:o(()=>[e(H,{"prepend-icon":"M11,12H3.5L6,9.5L3.5,7H11V3L12,2L13,3V7H18L20.5,9.5L18,12H13V20A2,2 0 0,1 15,22H9A2,2 0 0,1 11,20V12Z",title:"Create new route"},{default:o(()=>[e(w,null,{default:o(()=>[e(t,{onCloseDialog:r[1]||(r[1]=i=>a())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{W as default};
