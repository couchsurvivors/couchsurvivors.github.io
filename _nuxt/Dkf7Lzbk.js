import{a3 as j,bz as J,ae as Q,af as B,aX as W,bA as Y,r as ee,c as A,bB as ae,ao as te,bC as le,bD as I,A as a,ap as D,K as ne,aM as se,bE as oe,M as ie,aZ as re,br as ue,d as de,bi as ce,b4 as me,P as fe,i as ve,v as c,F as m,B as u,V as U,C as F,G as M,R as n,b6 as k,H as T}from"./BC9zlEgU.js";import{V as Ve}from"./BcZmITry.js";import{m as ge,V as z}from"./Cs6u3xZK.js";const be=j({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...J(),...ge()},"VSwitch"),C=Q()({name:"VSwitch",inheritAttrs:!1,props:be(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,f){let{attrs:v,slots:l}=f;const t=B(e,"indeterminate"),s=B(e,"modelValue"),{loaderClasses:S}=W(e),{isFocused:o,focus:h,blur:i}=Y(e),x=ee(),N=A(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),R=ae(),G=A(()=>e.id||`switch-${R}`);function L(){t.value&&(t.value=!1)}function O(V){var g,b;V.stopPropagation(),V.preventDefault(),(b=(g=x.value)==null?void 0:g.input)==null||b.click()}return te(()=>{const[V,g]=le(v),b=I.filterProps(e),q=z.filterProps(e);return a(I,D({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":t.value},S.value,e.class]},V,b,{modelValue:s.value,"onUpdate:modelValue":_=>s.value=_,id:G.value,focused:o.value,style:e.style}),{...l,default:_=>{let{id:E,messagesId:H,isDisabled:K,isReadonly:X,isValid:P}=_;const p={model:s,isValid:P};return a(z,D({ref:x},q,{modelValue:s.value,"onUpdate:modelValue":[d=>s.value=d,L],id:E.value,"aria-describedby":H.value,type:"checkbox","aria-checked":t.value?"mixed":void 0,disabled:K.value,readonly:X.value,onFocus:h,onBlur:i},g),{...l,default:d=>{let{backgroundColorClasses:w,backgroundColorStyles:r}=d;return a("div",{class:["v-switch__track",...w.value],style:r.value,onClick:O},[l["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[l["track-true"](p)]),l["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[l["track-false"](p)])])},input:d=>{let{inputNode:w,icon:r,backgroundColorClasses:Z,backgroundColorStyles:$}=d;return a(ne,null,[w,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":r||e.loading},e.inset?void 0:Z.value],style:e.inset?void 0:$.value},[l.thumb?a(se,{defaults:{VIcon:{icon:r,size:"x-small"}}},{default:()=>[l.thumb({...p,icon:r})]}):a(oe,null,{default:()=>[e.loading?a(re,{name:"v-switch",active:!0,color:P.value===!1?void 0:N.value},{default:y=>l.loader?l.loader(y):a(ue,{active:y.isActive,color:y.color,indeterminate:!0,size:"16",width:"2"},null)}):r&&a(ie,{key:String(r),icon:r,size:"x-small"},null)]})])])}})}})}),{}}}),_e=de({__name:"settings",async setup(e){let f,v;const l=ce(),{entities:t}=me(l);[f,v]=fe(()=>l.fetch()),await f,v();const s=()=>{l.update(t.value)};return(S,o)=>{const h=ve("font-awesome-icon");return c(),m(Ve,null,{default:u(()=>[a(T,{class:"mb-3"},{default:u(()=>[a(U,null,{default:u(()=>[F("General")]),_:1}),a(M,null,{default:u(()=>[n(t)?(c(),m(C,{key:0,modelValue:n(t).darkMode,"onUpdate:modelValue":o[0]||(o[0]=i=>n(t).darkMode=i),label:"Dark mode",inset:"","false-icon":"mdi-white-balance-sunny","true-icon":"mdi-weather-night",onChange:s},null,8,["modelValue"])):k("",!0),n(t)?(c(),m(C,{key:1,modelValue:n(t).metricOrImperial,"onUpdate:modelValue":o[1]||(o[1]=i=>n(t).metricOrImperial=i),label:"Metric or imperial units",inset:"",onChange:s},null,8,["modelValue"])):k("",!0)]),_:1})]),_:1}),a(h,{icon:"fa-brands fa-twitter-square"}),a(T,null,{default:u(()=>[a(U,null,{default:u(()=>[F("Privacy")]),_:1}),a(M,null,{default:u(()=>[n(t)?(c(),m(C,{key:0,modelValue:n(t).externalServices,"onUpdate:modelValue":o[2]||(o[2]=i=>n(t).externalServices=i),label:"Disable external services",inset:"",onChange:s},null,8,["modelValue"])):k("",!0),n(t)?(c(),m(C,{key:1,modelValue:n(t).gps,"onUpdate:modelValue":o[3]||(o[3]=i=>n(t).gps=i),label:"Disable GPS positioning",inset:"",onChange:s},null,8,["modelValue"])):k("",!0)]),_:1})]),_:1})]),_:1})}}});export{_e as default};
