import{c as xe,V as fe}from"./BfqYUvkC.js";import{F as U,O as ye,I as ee,aG as Z,c as A,L as te,aC as be,A as g,a1 as B,G as Ve,aH as pe,as as H,ae as G,aU as Pe,ap as _,aL as re,r as K,bO as ke,aY as oe,bP as Ce,au as Se,bI as se,bQ as Fe,aX as Te,bR as Me,a7 as Re,aI as Ae,a_ as J,o as Oe,bS as De,bT as Le,aF as Be,bU as _e,aS as Ke,bG as Ee,bJ as He,ac as Ue,ah as ve,bK as Ne,S as me,bL as ze,bD as $e,C as je,bz as qe,b2 as ce,bV as he,af as q,bb as Ge}from"./BUKZ6-gO.js";import{c as We}from"./Dt5z5Afo.js";import{m as Qe,V as ge}from"./Bk5J9Gl6.js";import{V as Xe}from"./DMWPK2wg.js";const Ye=U({indeterminate:Boolean,indeterminateIcon:{type:ye,default:"$checkboxIndeterminate"},...Qe({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Je=ee()({name:"VCheckboxBtn",props:Ye(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,s){let{slots:t}=s;const u=Z(e,"indeterminate"),r=Z(e,"modelValue");function d(n){u.value&&(u.value=!1)}const y=A(()=>u.value?e.indeterminateIcon:e.falseIcon),o=A(()=>u.value?e.indeterminateIcon:e.trueIcon);return te(()=>{const n=be(ge.filterProps(e),["modelValue"]);return g(ge,B(n,{modelValue:r.value,"onUpdate:modelValue":[f=>r.value=f,d],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:y.value,trueIcon:o.value,"aria-checked":u.value?"mixed":void 0}),t)}),{}}}),Ze=U({renderless:Boolean,...Ve()},"VVirtualScrollItem"),et=ee()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ze(),emits:{"update:height":e=>!0},setup(e,s){let{attrs:t,emit:u,slots:r}=s;const{resizeRef:d,contentRect:y}=pe(void 0,"border");H(()=>{var o;return(o=y.value)==null?void 0:o.height},o=>{o!=null&&u("update:height",o)}),te(()=>{var o,n;return e.renderless?g(G,null,[(o=r.default)==null?void 0:o.call(r,{itemRef:d})]):g("div",B({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(n=r.default)==null?void 0:n.call(r)])})}}),tt=-1,lt=1,ue=100,nt=U({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function at(e,s){const t=Pe(),u=_(0);re(()=>{u.value=parseFloat(e.itemHeight||0)});const r=_(0),d=_(Math.ceil((parseInt(e.height)||t.height.value)/(u.value||16))||1),y=_(0),o=_(0),n=K(),f=K();let x=0;const{resizeRef:P,contentRect:c}=pe();re(()=>{P.value=n.value});const v=A(()=>{var l;return n.value===document.documentElement?t.height.value:((l=c.value)==null?void 0:l.height)||parseInt(e.height)||0}),V=A(()=>!!(n.value&&f.value&&v.value&&u.value));let S=Array.from({length:s.value.length}),m=Array.from({length:s.value.length});const p=_(0);let C=-1;function D(l){return S[l]||u.value}const O=Ce(()=>{const l=performance.now();m[0]=0;const i=s.value.length;for(let w=1;w<=i-1;w++)m[w]=(m[w-1]||0)+D(w-1);p.value=Math.max(p.value,performance.now()-l)},p),W=H(V,l=>{l&&(W(),x=f.value.offsetTop,O.immediate(),L(),~C&&Se(()=>{se&&window.requestAnimationFrame(()=>{Y(C),C=-1})}))});ke(()=>{O.clear()});function le(l,i){const w=S[l],k=u.value;u.value=k?Math.min(u.value,i):i,(w!==i||k!==u.value)&&(S[l]=i,O())}function F(l){return l=oe(l,0,s.value.length-1),m[l]||0}function Q(l){return ot(m,l)}let N=0,E=0,j=0;H(v,(l,i)=>{i&&(L(),l<i&&requestAnimationFrame(()=>{E=0,L()}))});function ne(){if(!n.value||!f.value)return;const l=n.value.scrollTop,i=performance.now();i-j>500?(E=Math.sign(l-N),x=f.value.offsetTop):E=l-N,N=l,j=i,L()}function z(){!n.value||!f.value||(E=0,j=0,L())}let X=-1;function L(){cancelAnimationFrame(X),X=requestAnimationFrame(ae)}function ae(){if(!n.value||!v.value)return;const l=N-x,i=Math.sign(E),w=Math.max(0,l-ue),k=oe(Q(w),0,s.value.length),h=l+v.value+ue,I=oe(Q(h)+1,k+1,s.value.length);if((i!==tt||k<r.value)&&(i!==lt||I>d.value)){const b=F(r.value)-F(k),T=F(I)-F(d.value);Math.max(b,T)>ue?(r.value=k,d.value=I):(k<=0&&(r.value=k),I>=s.value.length&&(d.value=I))}y.value=F(r.value),o.value=F(s.value.length)-F(d.value)}function Y(l){const i=F(l);!n.value||l&&!i?C=l:n.value.scrollTop=i}const a=A(()=>s.value.slice(r.value,d.value).map((l,i)=>({raw:l,index:i+r.value})));return H(s,()=>{S=Array.from({length:s.value.length}),m=Array.from({length:s.value.length}),O.immediate(),L()},{deep:!0}),{containerRef:n,markerRef:f,computedItems:a,paddingTop:y,paddingBottom:o,scrollToIndex:Y,handleScroll:ne,handleScrollend:z,handleItemResize:le}}function ot(e,s){let t=e.length-1,u=0,r=0,d=null,y=-1;if(e[t]<s)return t;for(;u<=t;)if(r=u+t>>1,d=e[r],d>s)t=r-1;else if(d<s)y=r,u=r+1;else return d===s?r:u;return y}const ut=U({items:{type:Array,default:()=>[]},renderless:Boolean,...nt(),...Ve(),...Fe()},"VVirtualScroll"),rt=ee()({name:"VVirtualScroll",props:ut(),setup(e,s){let{slots:t}=s;const u=Te("VVirtualScroll"),{dimensionStyles:r}=Me(e),{containerRef:d,markerRef:y,handleScroll:o,handleScrollend:n,handleItemResize:f,scrollToIndex:x,paddingTop:P,paddingBottom:c,computedItems:v}=at(e,Re(e,"items"));return Ae(()=>e.renderless,()=>{function V(){var p,C;const m=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";d.value===document.documentElement?(document[m]("scroll",o,{passive:!0}),document[m]("scrollend",n)):((p=d.value)==null||p[m]("scroll",o,{passive:!0}),(C=d.value)==null||C[m]("scrollend",n))}Oe(()=>{d.value=De(u.vnode.el,!0),V(!0)}),ke(V)}),te(()=>{const V=v.value.map(S=>g(et,{key:S.index,renderless:e.renderless,"onUpdate:height":m=>f(S.index,m)},{default:m=>{var p;return(p=t.default)==null?void 0:p.call(t,{item:S.raw,index:S.index,...m})}}));return e.renderless?g(G,null,[g("div",{ref:y,class:"v-virtual-scroll__spacer",style:{paddingTop:J(P.value)}},null),V,g("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:J(c.value)}},null)]):g("div",{ref:d,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:n,style:[r.value,e.style]},[g("div",{ref:y,class:"v-virtual-scroll__container",style:{paddingTop:J(P.value),paddingBottom:J(c.value)}},[V])])}),{scrollToIndex:x}}});function st(e,s){const t=_(!1);let u;function r(o){cancelAnimationFrame(u),t.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(t.value){const n=H(t,()=>{n(),o()})}else o()})}async function y(o){var x,P;if(o.key==="Tab"&&((x=s.value)==null||x.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const n=(P=e.value)==null?void 0:P.$el;if(!n)return;(o.key==="Home"||o.key==="End")&&n.scrollTo({top:o.key==="Home"?0:n.scrollHeight,behavior:"smooth"}),await d();const f=n.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const c=n.getBoundingClientRect().top;for(const v of f)if(v.getBoundingClientRect().top>=c){v.focus();break}}else{const c=n.getBoundingClientRect().bottom;for(const v of[...f].reverse())if(v.getBoundingClientRect().bottom<=c){v.focus();break}}}return{onListScroll:r,onListKeydown:y}}const ct=U({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ye,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Le({itemChildren:!1})},"Select"),it=U({...ct(),...be(xe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Be({transition:{component:_e}})},"VSelect"),bt=ee()({name:"VSelect",props:it(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,s){let{slots:t}=s;const{t:u}=Ke(),r=K(),d=K(),y=K(),o=Z(e,"menu"),n=A({get:()=>o.value,set:a=>{var l;o.value&&!a&&((l=d.value)!=null&&l.Î¨openChildren)||(o.value=a)}}),{items:f,transformIn:x,transformOut:P}=Ee(e),c=Z(e,"modelValue",[],a=>x(a===null?[null]:ce(a)),a=>{const l=P(a);return e.multiple?l:l[0]??null}),v=A(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:c.value.length),V=We(),S=A(()=>c.value.map(a=>a.value)),m=_(!1),p=A(()=>n.value?e.closeText:e.openText);let C="",D;const O=A(()=>e.hideSelected?f.value.filter(a=>!c.value.some(l=>l===a)):f.value),W=A(()=>e.hideNoData&&!O.value.length||e.readonly||(V==null?void 0:V.isReadonly.value)),le=A(()=>{var a;return{...e.menuProps,activatorProps:{...((a=e.menuProps)==null?void 0:a.activatorProps)||{},"aria-haspopup":"listbox"}}}),F=K(),{onListScroll:Q,onListKeydown:N}=st(F,r);function E(a){e.openOnClear&&(n.value=!0)}function j(){W.value||(n.value=!n.value)}function ne(a){var h,I;if(!a.key||e.readonly||V!=null&&V.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"," "].includes(a.key)&&(n.value=!0),["Escape","Tab"].includes(a.key)&&(n.value=!1),a.key==="Home"?(h=F.value)==null||h.focus("first"):a.key==="End"&&((I=F.value)==null||I.focus("last"));const l=1e3;function i(b){const T=b.key.length===1,M=!b.ctrlKey&&!b.metaKey&&!b.altKey;return T&&M}if(e.multiple||!i(a))return;const w=performance.now();w-D>l&&(C=""),C+=a.key.toLowerCase(),D=w;const k=f.value.find(b=>b.title.toLowerCase().startsWith(C));if(k!==void 0){c.value=[k];const b=O.value.indexOf(k);se&&window.requestAnimationFrame(()=>{var T;b>=0&&((T=y.value)==null||T.scrollToIndex(b))})}}function z(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!a.props.disabled)if(e.multiple){const i=c.value.findIndex(k=>e.valueComparator(k.value,a.value)),w=l??!~i;if(~i){const k=w?[...c.value,a]:[...c.value];k.splice(i,1),c.value=k}else w&&(c.value=[...c.value,a])}else{const i=l!==!1;c.value=i?[a]:[],Se(()=>{n.value=!1})}}function X(a){var l;(l=F.value)!=null&&l.$el.contains(a.relatedTarget)||(n.value=!1)}function L(){var a;m.value&&((a=r.value)==null||a.focus())}function ae(a){m.value=!0}function Y(a){if(a==null)c.value=[];else if(he(r.value,":autofill")||he(r.value,":-webkit-autofill")){const l=f.value.find(i=>i.title===a);l&&z(l)}else r.value&&(r.value.value="")}return H(n,()=>{if(!e.hideSelected&&n.value&&c.value.length){const a=O.value.findIndex(l=>c.value.some(i=>e.valueComparator(i.value,l.value)));se&&window.requestAnimationFrame(()=>{var l;a>=0&&((l=y.value)==null||l.scrollToIndex(a))})}}),H(()=>e.items,(a,l)=>{n.value||m.value&&!l.length&&a.length&&(n.value=!0)}),te(()=>{const a=!!(e.chips||t.chip),l=!!(!e.hideNoData||O.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),i=c.value.length>0,w=fe.filterProps(e),k=i||!m.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return g(fe,B({ref:r},w,{modelValue:c.value.map(h=>h.props.value).join(", "),"onUpdate:modelValue":Y,focused:m.value,"onUpdate:focused":h=>m.value=h,validationValue:c.externalValue,counterValue:v.value,dirty:i,class:["v-select",{"v-select--active-menu":n.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:k,"onClick:clear":E,"onMousedown:control":j,onBlur:X,onKeydown:ne,"aria-label":u(p.value),title:u(p.value)}),{...t,default:()=>g(G,null,[g(He,B({ref:d,modelValue:n.value,"onUpdate:modelValue":h=>n.value=h,activator:"parent",contentClass:"v-select__content",disabled:W.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:L},le.value),{default:()=>[l&&g(Ue,B({ref:F,selected:S.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:h=>h.preventDefault(),onKeydown:N,onFocusin:ae,onScrollPassive:Q,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var h,I,b;return[(h=t["prepend-item"])==null?void 0:h.call(t),!O.value.length&&!e.hideNoData&&(((I=t["no-data"])==null?void 0:I.call(t))??g(ve,{title:u(e.noDataText)},null)),g(rt,{ref:y,renderless:!0,items:O.value},{default:T=>{var de;let{item:M,index:$,itemRef:R}=T;const ie=B(M.props,{ref:R,key:$,onClick:()=>z(M,null)});return((de=t.item)==null?void 0:de.call(t,{item:M,index:$,props:ie}))??g(ve,B(ie,{role:"option"}),{prepend:we=>{let{isSelected:Ie}=we;return g(G,null,[e.multiple&&!e.hideSelected?g(Je,{key:M.value,modelValue:Ie,ripple:!1,tabindex:"-1"},null):void 0,M.props.prependAvatar&&g(Ne,{image:M.props.prependAvatar},null),M.props.prependIcon&&g(me,{icon:M.props.prependIcon},null)])}})}}),(b=t["append-item"])==null?void 0:b.call(t)]}})]}),c.value.map((h,I)=>{function b(R){R.stopPropagation(),R.preventDefault(),z(h,!1)}const T={"onClick:close":b,onKeydown(R){R.key!=="Enter"&&R.key!==" "||(R.preventDefault(),R.stopPropagation(),b(R))},onMousedown(R){R.preventDefault(),R.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},M=a?!!t.chip:!!t.selection,$=M?ze(a?t.chip({item:h,index:I,props:T}):t.selection({item:h,index:I})):void 0;if(!(M&&!$))return g("div",{key:h.value,class:"v-select__selection"},[a?t.chip?g($e,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:h.title}}},{default:()=>[$]}):g(Xe,B({key:"chip",closable:e.closableChips,size:"small",text:h.title,disabled:h.props.disabled},T),null):$??g("span",{class:"v-select__selection-text"},[h.title,e.multiple&&I<c.value.length-1&&g("span",{class:"v-select__selection-comma"},[je(",")])])])})]),"append-inner":function(){var T;for(var h=arguments.length,I=new Array(h),b=0;b<h;b++)I[b]=arguments[b];return g(G,null,[(T=t["append-inner"])==null?void 0:T.call(t,...I),e.menuIcon?g(me,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),qe({isFocused:m,menu:n,select:z},r)}}),dt=(e,s,t)=>e==null||s==null?-1:e.toString().toLocaleLowerCase().indexOf(s.toString().toLocaleLowerCase()),Vt=U({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function ft(e,s,t){var o;const u=[],r=(t==null?void 0:t.default)??dt,d=t!=null&&t.filterKeys?ce(t.filterKeys):!1,y=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return u;e:for(let n=0;n<e.length;n++){const[f,x=f]=ce(e[n]),P={},c={};let v=-1;if(s&&!(t!=null&&t.noFilter)){if(typeof f=="object"){const m=d||Object.keys(x);for(const p of m){const C=Ge(x,p),D=(o=t==null?void 0:t.customKeyFilter)==null?void 0:o[p];if(v=D?D(C,s,f):r(C,s,f),v!==-1&&v!==!1)D?P[p]=v:c[p]=v;else if((t==null?void 0:t.filterMode)==="every")continue e}}else v=r(f,s,f),v!==-1&&v!==!1&&(c.title=v);const V=Object.keys(c).length,S=Object.keys(P).length;if(!V&&!S||(t==null?void 0:t.filterMode)==="union"&&S!==y&&!V||(t==null?void 0:t.filterMode)==="intersection"&&(S!==y||!V))continue}u.push({index:n,matches:{...c,...P}})}return u}function pt(e,s,t,u){const r=K([]),d=K(new Map),y=A(()=>u!=null&&u.transform?q(s).map(n=>[n,u.transform(n)]):q(s));re(()=>{const n=typeof t=="function"?t():q(t),f=typeof n!="string"&&typeof n!="number"?"":String(n),x=ft(y.value,f,{customKeyFilter:{...e.customKeyFilter,...q(u==null?void 0:u.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),P=q(s),c=[],v=new Map;x.forEach(V=>{let{index:S,matches:m}=V;const p=P[S];c.push(p),v.set(p.value,m)}),r.value=c,d.value=v});function o(n){return d.value.get(n.value)}return{filteredItems:r,filteredMatches:d,getMatches:o}}export{bt as V,Je as a,ct as b,st as c,rt as d,Vt as m,pt as u};
