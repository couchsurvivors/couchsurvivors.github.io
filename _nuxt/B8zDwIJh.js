import{_}from"./CD81UMFE.js";import{d as f,r as V,bD as g,v as c,F as v,B as o,A as e,P as u,C as d,bf as C,y as F,O as H,a0 as w}from"./mlFaVk3s.js";import{u as x}from"./C5MgzjI0.js";import{V as y}from"./KL2e0yT4.js";import{V as L}from"./Ykt-hQvn.js";import{V as R,a as p}from"./B5SRhqMh.js";import{V as b}from"./CNwJG-VI.js";import{V as $}from"./Br2Dyx8n.js";import{b as k,a as B}from"./1ZS7ypFI.js";import{V as A}from"./D3ri_GGc.js";import{V as D}from"./CveznNIm.js";import"./dLbKEbKl.js";import"./DSUo3Ajl.js";import"./CbqIhJ4D.js";import"./kRnYWJbn.js";import"./DhEjqOiD.js";import"./DRL52V8K.js";const N=f({__name:"form",props:{route:{type:Object,default:()=>({name:"",originalFile:null})}},emits:["close-dialog"],setup(m){const l=m,a=V({...l.route}),s=g(),r=async()=>{try{if(a.value.originalFile){const n=await x("routes",C(),a.value.originalFile);if(l.route.id)await s.update(newRoute);else{const t={name:a.value.name,originalFile:n.path};await s.create(t)}}}catch(n){console.error("An error occurred while saving the route:",n)}};return(n,t)=>(c(),v(b,null,{default:o(()=>[e(y,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=i=>a.value.name=i),label:"Name"},null,8,["modelValue"]),e(L,{modelValue:a.value.originalFile,"onUpdate:modelValue":t[1]||(t[1]=i=>a.value.originalFile=i),label:"File"},null,8,["modelValue"]),e(R,{justify:"end"},{default:o(()=>[e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:t[2]||(t[2]=i=>n.$emit("close-dialog"))},{default:o(()=>[d("Cancel")]),_:1})]),_:1}),e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:r},{default:o(()=>[d("Save")]),_:1})]),_:1})]),_:1})]),_:1}))}}),U={class:"ma-4"},Y=f({__name:"index",setup(m){const l=V(!1);function a(){l.value=!1}return(s,r)=>{const n=_,t=N;return c(),v(D,null,{default:o(()=>[e(n,{"entity-type":"routes"}),e($,{"model-value":"",position:"bottom",class:"text-end",size:"88"},{default:o(()=>[F("div",U,[e(u,{icon:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",size:"large",color:"primary",elevation:"8",onClick:r[0]||(r[0]=i=>l.value=!0)})])]),_:1}),e(A,{modelValue:H(l),"onUpdate:modelValue":r[2]||(r[2]=i=>w(l)?l.value=i:null),"max-width":"600"},{default:o(()=>[e(k,{"prepend-icon":"M11,12H3.5L6,9.5L3.5,7H11V3L12,2L13,3V7H18L20.5,9.5L18,12H13V20A2,2 0 0,1 15,22H9A2,2 0 0,1 11,20V12Z",title:"Create new route"},{default:o(()=>[e(B,null,{default:o(()=>[e(t,{onCloseDialog:r[1]||(r[1]=i=>a())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Y as default};
