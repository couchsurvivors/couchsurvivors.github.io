import{_}from"./ORN8FmZ_.js";import{f as V,E as f,bA as g,o as c,g as v,w as o,b as e,z as u,d,W as C,a as F,i as w,h as H,v as x,Q as y}from"./Ca2Kc0hX.js";import{u as L}from"./Bw9UPb7X.js";import{V as R}from"./C1ZSqCTu.js";import{V as b}from"./TT2TCUTw.js";import{V as $,a as p}from"./Db_-eyib.js";import{V as k}from"./DmKDulGB.js";import{V as A}from"./DJgISf7Z.js";import{V as B}from"./Cpu7D__k.js";import{V as N}from"./BkUay-Be.js";import"./BYkhEWx2.js";import"./B5UTIot2.js";import"./BsqkGTG1.js";const U=V({__name:"form",props:{route:{type:Object,default:()=>({name:"",originalFile:null})}},emits:["close-dialog"],setup(m){const l=m,a=f({...l.route}),s=g(),r=async()=>{try{if(a.value.originalFile){const i=await L("routes",C(),a.value.originalFile);if(l.route.id)await s.update(newRoute);else{const t={name:a.value.name,originalFile:i.path};await s.create(t)}}}catch(i){console.error("An error occurred while saving the route:",i)}};return(i,t)=>(c(),v(k,null,{default:o(()=>[e(R,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value.name=n),label:"Name"},null,8,["modelValue"]),e(b,{modelValue:a.value.originalFile,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value.originalFile=n),label:"File"},null,8,["modelValue"]),e($,{justify:"end"},{default:o(()=>[e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:t[2]||(t[2]=n=>i.$emit("close-dialog"))},{default:o(()=>[d("Cancel")]),_:1})]),_:1}),e(p,{cols:"auto"},{default:o(()=>[e(u,{onClick:r},{default:o(()=>[d("Save")]),_:1})]),_:1})]),_:1})]),_:1}))}}),z={class:"ma-4"},J=V({__name:"index",setup(m){const l=f(!1);function a(){l.value=!1}return(s,r)=>{const i=_,t=U;return c(),v(A,null,{default:o(()=>[e(i,{"entity-type":"routes"}),e(B,{"model-value":"",position:"bottom",class:"text-end",size:"88"},{default:o(()=>[F("div",z,[e(u,{icon:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",size:"large",color:"primary",elevation:"8",onClick:r[0]||(r[0]=n=>l.value=!0)})])]),_:1}),e(N,{modelValue:x(l),"onUpdate:modelValue":r[2]||(r[2]=n=>y(l)?l.value=n:null),"max-width":"600"},{default:o(()=>[e(w,{"prepend-icon":"M11,12H3.5L6,9.5L3.5,7H11V3L12,2L13,3V7H18L20.5,9.5L18,12H13V20A2,2 0 0,1 15,22H9A2,2 0 0,1 11,20V12Z",title:"Create new route"},{default:o(()=>[e(H,null,{default:o(()=>[e(t,{onCloseDialog:r[1]||(r[1]=n=>a())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{J as default};
